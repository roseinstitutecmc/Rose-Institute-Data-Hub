<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Demographic Data – Data Hub</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-985aa47af68dae11cd4d235c71fb941e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>



<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>



<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data Hub</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./reportDraft.html"> 
<span class="menu-text">Bessett-Sinclair Report</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Quarto Resource.html"> 
<span class="menu-text">Quarto Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./hubstart.html"> 
<span class="menu-text">Data Hub</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#demographic-data-all-cities" id="toc-demographic-data-all-cities" class="nav-link" data-scroll-target="#demographic-data-all-cities">Demographic Data: All Cities</a></li>
  <li><a href="#interactive-map-of-cities" id="toc-interactive-map-of-cities" class="nav-link" data-scroll-target="#interactive-map-of-cities">Interactive Map of Cities</a></li>
  <li><a href="#heatmap-demographic-variables-by-city" id="toc-heatmap-demographic-variables-by-city" class="nav-link" data-scroll-target="#heatmap-demographic-variables-by-city">Heatmap: Demographic Variables by City</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Demographic Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>This page presents demographic information for all incorporated cities in California, including:</p>
<ul>
<li>Population totals<br>
</li>
<li>Racial and ethnic composition<br>
</li>
<li>Median household income</li>
</ul>
<p>The data is drawn from public datasets and has been cleaned for clarity and consistency. Use the map, table, and charts below to explore.</p>
</section>
<section id="demographic-data-all-cities" class="level2">
<h2 class="anchored" data-anchor-id="demographic-data-all-cities">Demographic Data: All Cities</h2>
<p>Use the table below to explore demographic data by city.</p>
<!-- 🔍 Search bar -->
<p><input type="text" id="searchInput" onkeyup="filterTable()" placeholder="Search the table..." style="margin-bottom: 4px; padding: 10px; width: 100%; max-width: 400px;"></p>
<script>
let currentPage = 1;
const rowsPerPage = 10;

function filterTable() {
  currentPage = 1;
  renderTable();
}

function sortTable(n) {
  const table = document.getElementById("mytable");
  const rows = Array.from(table.querySelectorAll("tbody tr"));
  const dir = table.dataset.sortDir === "asc" ? "desc" : "asc";
  table.dataset.sortDir = dir;
  table.dataset.sortCol = n;

  rows.sort((a, b) => {
    const cellA = a.children[n].textContent.trim().toLowerCase();
    const cellB = b.children[n].textContent.trim().toLowerCase();
    if (!isNaN(cellA) && !isNaN(cellB)) {
      return dir === "asc" ? cellA - cellB : cellB - cellA;
    }
    return dir === "asc"
      ? cellA.localeCompare(cellB)
      : cellB.localeCompare(cellA);
  });

  const tbody = table.querySelector("tbody");
  tbody.innerHTML = "";
  rows.forEach(row => tbody.appendChild(row));

  renderTable();
}

function renderTable() {
  const input = document.getElementById("searchInput").value.toLowerCase();
  const table = document.getElementById("mytable");
  const rows = Array.from(table.querySelectorAll("tbody tr"));

  // Filter
  let filteredRows = rows.filter(row =>
    row.textContent.toLowerCase().includes(input)
  );

  // Paginate
  rows.forEach(row => row.classList.add("hidden"));
  const start = (currentPage - 1) * rowsPerPage;
  const end = start + rowsPerPage;
  filteredRows.slice(start, end).forEach(row => row.classList.remove("hidden"));

  // Pagination Controls
  const totalPages = Math.ceil(filteredRows.length / rowsPerPage);
  const paginationDiv = document.getElementById("pagination");
  paginationDiv.innerHTML = "";
  for (let i = 1; i <= totalPages; i++) {
    let btn = document.createElement("button");
    btn.innerText = i;
    btn.style.marginRight = "5px";
    if (i === currentPage) btn.classList.add("active-page");
    btn.onclick = () => {
      currentPage = i;
      renderTable();
    };
    paginationDiv.appendChild(btn);
  }
}

document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll("#mytable th").forEach((th, i) => {
    th.onclick = () => sortTable(i);
  });
  renderTable();
});
</script>
<div id="8a161d9a" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="3">
<table id="mytable" class="dataframe styled-table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">City Name</th>
<th data-quarto-table-cell-role="th">Latino %</th>
<th data-quarto-table-cell-role="th">White %</th>
<th data-quarto-table-cell-role="th">Black %</th>
<th data-quarto-table-cell-role="th">Asian %</th>
<th data-quarto-table-cell-role="th">Native %</th>
<th data-quarto-table-cell-role="th">PI %</th>
<th data-quarto-table-cell-role="th">Other %</th>
<th data-quarto-table-cell-role="th">Multiracial %</th>
<th data-quarto-table-cell-role="th">Total Population</th>
<th data-quarto-table-cell-role="th">Median Household Income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Agoura Hills</td>
<td>11.424208</td>
<td>72.634120</td>
<td>1.231588</td>
<td>8.571851</td>
<td>0.113306</td>
<td>0.029558</td>
<td>0.640426</td>
<td>5.354944</td>
<td>20299</td>
<td>126956</td>
</tr>
<tr class="even">
<td>Alhambra</td>
<td>36.093546</td>
<td>8.377178</td>
<td>1.623063</td>
<td>51.349134</td>
<td>0.165323</td>
<td>0.084472</td>
<td>0.369262</td>
<td>1.938022</td>
<td>82868</td>
<td>66593</td>
</tr>
<tr class="odd">
<td>Arcadia</td>
<td>13.057286</td>
<td>17.586140</td>
<td>1.531377</td>
<td>64.586016</td>
<td>0.093506</td>
<td>0.070570</td>
<td>0.421658</td>
<td>2.653446</td>
<td>56681</td>
<td>95736</td>
</tr>
<tr class="even">
<td>Artesia</td>
<td>35.529125</td>
<td>15.907289</td>
<td>3.824337</td>
<td>41.793230</td>
<td>0.158585</td>
<td>0.353766</td>
<td>0.396462</td>
<td>2.037206</td>
<td>16395</td>
<td>74375</td>
</tr>
<tr class="odd">
<td>Avalon</td>
<td>55.000000</td>
<td>39.479769</td>
<td>0.838150</td>
<td>0.838150</td>
<td>0.115607</td>
<td>0.260116</td>
<td>0.317919</td>
<td>3.150289</td>
<td>3460</td>
<td>78529</td>
</tr>
<tr class="even">
<td>Azusa</td>
<td>64.040000</td>
<td>15.502000</td>
<td>3.178000</td>
<td>14.374000</td>
<td>0.226000</td>
<td>0.130000</td>
<td>0.468000</td>
<td>2.082000</td>
<td>50000</td>
<td>65912</td>
</tr>
<tr class="odd">
<td>Baldwin Park</td>
<td>74.377910</td>
<td>3.312736</td>
<td>0.843771</td>
<td>20.214476</td>
<td>0.127466</td>
<td>0.060962</td>
<td>0.368544</td>
<td>0.694137</td>
<td>72176</td>
<td>68741</td>
</tr>
<tr class="even">
<td>Bell</td>
<td>93.542716</td>
<td>4.422063</td>
<td>0.369498</td>
<td>0.706219</td>
<td>0.104294</td>
<td>0.044697</td>
<td>0.300962</td>
<td>0.509550</td>
<td>33559</td>
<td>47740</td>
</tr>
<tr class="odd">
<td>Bellflower</td>
<td>57.141053</td>
<td>13.657027</td>
<td>12.793282</td>
<td>12.444753</td>
<td>0.231090</td>
<td>0.670539</td>
<td>0.474807</td>
<td>2.587448</td>
<td>79190</td>
<td>63848</td>
</tr>
<tr class="even">
<td>Bell Gardens</td>
<td>96.184907</td>
<td>1.873370</td>
<td>0.556948</td>
<td>0.506316</td>
<td>0.248095</td>
<td>0.048100</td>
<td>0.268348</td>
<td>0.313916</td>
<td>39501</td>
<td>45289</td>
</tr>
<tr class="odd">
<td>Beverly Hills</td>
<td>6.782667</td>
<td>76.126112</td>
<td>2.024403</td>
<td>8.761200</td>
<td>0.039754</td>
<td>0.033638</td>
<td>0.798141</td>
<td>5.434085</td>
<td>32701</td>
<td>101241</td>
</tr>
<tr class="even">
<td>Bradbury</td>
<td>19.978284</td>
<td>36.373507</td>
<td>1.845820</td>
<td>38.002172</td>
<td>0.108578</td>
<td>0.000000</td>
<td>0.434311</td>
<td>3.257329</td>
<td>921</td>
<td>181875</td>
</tr>
<tr class="odd">
<td>Burbank</td>
<td>24.186441</td>
<td>56.224787</td>
<td>2.693386</td>
<td>11.442466</td>
<td>0.206825</td>
<td>0.091301</td>
<td>0.575757</td>
<td>4.579036</td>
<td>107337</td>
<td>79212</td>
</tr>
<tr class="even">
<td>Calabasas</td>
<td>8.407556</td>
<td>73.899574</td>
<td>2.215912</td>
<td>9.397186</td>
<td>0.133385</td>
<td>0.051633</td>
<td>0.731466</td>
<td>5.163289</td>
<td>23241</td>
<td>136138</td>
</tr>
<tr class="odd">
<td>Carson</td>
<td>39.392829</td>
<td>6.874359</td>
<td>22.252454</td>
<td>26.173633</td>
<td>0.193600</td>
<td>1.658678</td>
<td>0.506499</td>
<td>2.947948</td>
<td>95558</td>
<td>86040</td>
</tr>
<tr class="even">
<td>Cerritos</td>
<td>14.304732</td>
<td>12.787930</td>
<td>6.363710</td>
<td>62.144500</td>
<td>0.123038</td>
<td>0.385252</td>
<td>0.484086</td>
<td>3.406753</td>
<td>49578</td>
<td>109229</td>
</tr>
<tr class="odd">
<td>Claremont</td>
<td>25.266999</td>
<td>47.303172</td>
<td>4.784522</td>
<td>15.587935</td>
<td>0.241507</td>
<td>0.131487</td>
<td>0.729888</td>
<td>5.954489</td>
<td>37266</td>
<td>101080</td>
</tr>
<tr class="even">
<td>Commerce</td>
<td>94.441751</td>
<td>2.367103</td>
<td>0.710939</td>
<td>1.316852</td>
<td>0.306996</td>
<td>0.024237</td>
<td>0.355469</td>
<td>0.476652</td>
<td>12378</td>
<td>54639</td>
</tr>
<tr class="odd">
<td>Compton</td>
<td>70.807395</td>
<td>0.894088</td>
<td>25.425110</td>
<td>0.381241</td>
<td>0.137873</td>
<td>0.568206</td>
<td>0.459578</td>
<td>1.326509</td>
<td>95740</td>
<td>58703</td>
</tr>
<tr class="even">
<td>Covina</td>
<td>58.726691</td>
<td>19.604822</td>
<td>3.409534</td>
<td>14.767496</td>
<td>0.304283</td>
<td>0.169696</td>
<td>0.522743</td>
<td>2.494734</td>
<td>51268</td>
<td>77913</td>
</tr>
<tr class="odd">
<td>Cudahy</td>
<td>95.883565</td>
<td>1.757924</td>
<td>0.732103</td>
<td>0.688264</td>
<td>0.162202</td>
<td>0.113980</td>
<td>0.280566</td>
<td>0.381395</td>
<td>22811</td>
<td>46279</td>
</tr>
<tr class="even">
<td>Culver City</td>
<td>21.412982</td>
<td>45.474386</td>
<td>7.707398</td>
<td>16.753721</td>
<td>0.115255</td>
<td>0.225606</td>
<td>0.929400</td>
<td>7.381250</td>
<td>40779</td>
<td>97540</td>
</tr>
<tr class="odd">
<td>Diamond Bar</td>
<td>19.616139</td>
<td>14.738887</td>
<td>3.117737</td>
<td>59.242446</td>
<td>0.101685</td>
<td>0.143449</td>
<td>0.325029</td>
<td>2.714628</td>
<td>55072</td>
<td>100723</td>
</tr>
<tr class="even">
<td>Downey</td>
<td>75.087228</td>
<td>12.573128</td>
<td>3.436667</td>
<td>6.393249</td>
<td>0.219492</td>
<td>0.217743</td>
<td>0.604259</td>
<td>1.468235</td>
<td>114355</td>
<td>75974</td>
</tr>
<tr class="odd">
<td>Duarte</td>
<td>48.032402</td>
<td>22.515764</td>
<td>5.182492</td>
<td>20.743775</td>
<td>0.271552</td>
<td>0.069039</td>
<td>0.464859</td>
<td>2.720118</td>
<td>21727</td>
<td>82620</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="table-controls" style="display: flex; justify-content: space-between; align-items: center; margin-top: 12px;">
<div id="pagination">

</div>
<p><a href="cleaned_citydatademoCSV.csv" download="california_demographics.csv"> <button class="city-button"> Download CSV </button> </a></p>
</div>
</section>
<section id="interactive-map-of-cities" class="level2">
<h2 class="anchored" data-anchor-id="interactive-map-of-cities">Interactive Map of Cities</h2>
<p>Use the map below to explore demographic data by city. Select a variable and then hover a city to view population, income, and racial/ethnic breakdown. The darker the shape, the higher the value.</p>
<div class="{=html}">
<iframe src="city_map_tooltip.html" style="width:100%; height:700px; border:none;">
</iframe>
</div>
</section>
<section id="heatmap-demographic-variables-by-city" class="level2">
<h2 class="anchored" data-anchor-id="heatmap-demographic-variables-by-city">Heatmap: Demographic Variables by City</h2>
<div id="06915bb2" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.0.1.min"</script>
        
</div>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="2acecf00-183b-4acd-9c31-7c45a719d573" class="plotly-graph-div" style="height:800px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("2acecf00-183b-4acd-9c31-7c45a719d573")) {                    Plotly.newPlot(                        "2acecf00-183b-4acd-9c31-7c45a719d573",                        [{"coloraxis":"coloraxis","name":"0","x":["Latino %","White %","Black %","Asian %","Native %","PI %","Other %","Multiracial %"],"y":["Bell Gardens","Cudahy","Commerce","Bell","Downey","Baldwin Park","Compton","Azusa","Covina","Bellflower","Avalon","Duarte","Carson","Alhambra","Artesia","Claremont","Burbank","Culver City","Bradbury","Diamond Bar","Cerritos","Arcadia","Agoura Hills","Calabasas","Beverly Hills"],"z":{"dtype":"f8","bdata":"tBD0gtULWEBNciAhU\u002fn9P+ZmbnSE0uE\u002fNA+YO74z4D\u002fGNHCTk8HPP98qMcqRoKg\u002fpe03kZss0T85qASRMxfUPxQJAVSM+FdAazxIt3Qg\u002fD8+TVEhY23nP1v1YCJDBuY\u002fuFpzvAzDxD9QiQK1zC29P\u002fGqkr7M9NE\u002fQRydU8Zo2D+YoAqoRZxXQKYgiajT7wJAk\u002fWHpQLA5j+aGvTn0xH1P3yB8b3TpdM\u002fsaZKRXfRmD+T9YelAsDWP+xoHOp3gd4\u002fOL4X27tiV0Ao7wkwMbARQNyO\u002fAPdpdc\u002f5UTXX1iZ5j\u002fKdIXKAbO6P8yv19WT4qY\u002fS5aGJvhC0z9YqOSFPE7gP70bTSaVxVJAT3kR+XAlKUDxn1cES34LQHZ35uOvkhlA70P8yE8YzD\u002fEH++cAN\u002fLPwFOLEYWVuM\u002fXE1V3ON99z8mhomrL5hSQPz5+Hx7gApAH8XJlSsA6z+\u002fIqbh5zY0QPusSe\u002fPUMA\u002fsR92Z2w2rz+QfVa6N5bXPwDcVd1dNuY\u002fYzM0XKyzUUBN6S7DXpzsPwXdwfzTbDlAXDV5EUBm2D\u002fmywb31aXBPwoOl2u9LuI\u002fU5TC8blp3T9Lj8LPYTn1P8P1KFyPAlBAGy\u002fdJAYBL0AGgZVDi2wJQHNoke18vyxAIbByaJHtzD+kcD0K16PAP8HKoUW2890\u002fDi2yne+nAEA539s2BF1NQHtPo5jVmjNApxB537lGC0DisxJG9YgtQHX6AvlgedM\u002fdC1uZJ24xT+hprQDULrgP9hj\u002fN029QNARpmqBw6STEDeJjflZVArQFY2QQ4plilAi0morrbjKEBDH1ycWZTNPxbnqqQOdeU\u002fY3iRrj5j3j+sbczjF7MEQAAAAAAAgEtAg1hPEGm9Q0ATagyOINLqPxNqDI4g0uo\u002fTI5PiWqYvT\u002fKoE\u002fuu6XQP5OSeT\u002fJWNQ\u002fM7RnusozCUAQ9ljAJQRIQO91rRgJhDZAfIxmI9+6FEBxblUKaL40QEZU1qYZYdE\u002fF\u002ftyNoKssT9tOHibQcDdPzJ+fyLNwgVAKDqaPEiyQ0Cv4xj5V38bQK6xdNOgQDZA9al8MnMsOkCBN9z738fIP66IPHfyifo\u002f5zJtszw14D9t\u002fb+tZZUHQA9uvlP5C0JAYrMFfx3BIEBiqi4aEfj5P2oRk2iwrElAeB15OU8pxT\u002fB4\u002fzJ75+1Pw32Y+n8odc\u002fL\u002fs4RCMC\u002fz9rbfFbusNBQBr0rSiI0C9A2tJe1T2YDkBJAoGMiOVEQHaLldiCTMQ\u002fMxcEyxuk1j8Sz82Po1\u002fZP4f\u002fMucyTABAVQDGElpEOUBVj01VzqZHQD0U18FZIxNAzYW63QUtL0AnrPeVs+nOP1AK9R+S1MA\u002fRnePuj1b5z9J+8anZdEXQFNwPpa6LzhA+mb21MUcTEARVDwXDowFQOOqsu+K4iZAgH3czT95yj9FvaNwhF+3P884MGCZbOI\u002fMmk62O5QEkAq+xEzuWk1QH6C9rC4vEZATNkXQGDUHkA25rfg88AwQFF8+8Fggb0\u002f8Juk9KrgzD+myEDvpL3tP4TrqnBmhh1ArtXc2XD6M0A3w08Uzy9CQHrjPE16iP0\u002fph1IKEcAQ0Ao5c9mvsu7PwAAAAAAAAAAKOXPZr7L2z\u002fV5mKAAg8KQMRx6Ea7nTNAVCmobk96LUBVcz\u002f7H\u002fEIQNhkjXoIn01Af65BVQgIuj9i9EnfhVzCP2WhOKhGzdQ\u002f5rEI8463BUB6sSjTBZwsQBzE95NrkylAJsB2UXB0GUBgMVX2fhJPQFp3IY1yf78\u002fcDoBAfan2D\u002fAmDyEQvveP7WZ2LYHQQtAKPi\u002fhlQdKkBk+gxFDZYxQA9mIouFgPg\u002fFyFES4ElUEAwCDBV\u002fu+3PwchpJfmELI\u002fZvfIDHL82j95pgwmQjoFQEx\u002fgs0x2SZAUcysa5UoUkAf0sNelbTzP7cUyqHJJCFA3qVEeqABvT9oJGjqekSeP0HrzeddfuQ\u002fXnBPVXZrFUDARRohq9AgQJTL856SeVJA0JfP0y+6AUDX\u002fNz2W8siQNLAXzHCEsE\u002fulvlS6Bvqj\u002fAxHNEK2jnP1ziTDw1pxRAZhF7gnMhG0DKt4g5EghTQMex4Sj6MQBAUpplALyFIUCBYAB0p1qkP73updcDOaE\u002f\u002f5OebV6K6T9HF2GrgLwVQA==","shape":"25, 8"},"type":"heatmap","xaxis":"x","yaxis":"y","hovertemplate":"Demographic Variable: %{x}\u003cbr\u003eCity: %{y}\u003cbr\u003ePercent: %{z}\u003cextra\u003e\u003c\u002fextra\u003e"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Demographic Variable"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"autorange":"reversed","title":{"text":"City"}},"coloraxis":{"colorbar":{"title":{"text":"Percent"}},"colorscale":[[0.0,"rgb(255,245,240)"],[0.125,"rgb(254,224,210)"],[0.25,"rgb(252,187,161)"],[0.375,"rgb(252,146,114)"],[0.5,"rgb(251,106,74)"],[0.625,"rgb(239,59,44)"],[0.75,"rgb(203,24,29)"],[0.875,"rgb(165,15,21)"],[1.0,"rgb(103,0,13)"]]},"title":{"text":"Demographic Composition by City"},"margin":{"l":100,"r":20,"t":60,"b":20},"height":800},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('2acecf00-183b-4acd-9c31-7c45a719d573');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>